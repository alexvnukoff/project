{% extends 'forms.html' %}
{% load i18n %}
{% load staticfiles %}
{% load CustomFilters %}
{% block content %}
<link type="text/css" rel="stylesheet" href="{% static "tppcenter/css/jquery.bxslider.css" %}"/>

<script  type="text/javascript" src="{% static "tppcenter/js/jquery.bxslider.js"%}"></script>
<script  type="text/javascript" src="{% static "tppcenter/js/jquery.slimscroll.min.js"%}"></script>

<script type="text/javascript">
    $(document).ready(function(e) {
       $(".showtype").click(function(){
        $(".external-type, #fade-profile").show();
        });
        $(".close-regform").click(function(){
            $(".external-type, #fade-profile").hide();
        });
        $('.listtype').slimScroll({
            height: '250px',
            railVisible: true,
            alwaysVisible: false

        });

        $(".selectTemplate").click(function(event) {


            var folder = $(this).data('folder');
            var id = $(this).data('id');
            var src_1 = "{% static "templates" %}" + "/" + folder + "/1.jpg";
            var src_2 = "{% static "templates" %}" + "/" + folder + "/2.jpg";


            $('.template1').attr('src',src_1);
            $('.template2').attr('src',src_2);
            $('#input-template').val(id);

            $(".external-type, #fade-profile").hide();
      });
    });
</script>

<script>
    $(function() {

    $('.themesb2b').bxSlider();
});
</script>
<style>
    .error-handler {
        float: none;
    }
</style>
<div class="external-r">
    <div class="external-step1">
        <h1>{% trans "My own site" %}</h1>
        <p>
            {% blocktrans %}
                Dear colleagues , we are pleased to inform you that for the convenience of providing your interests,
                we have developed an easy website builder that will help you create your own  external website in
                just a couple of minutes.
            {% endblocktrans %}
            {% trans "support" %}:
            <a href="#">admin@tppcenter.com</a>.
        </p>
        <h3>{% trans "Your site" %}</h3>
    </div>
    <form enctype="multipart/form-data" method="post" action="" xmlns="http://www.w3.org/1999/html">
        {% csrf_token %}
        <div class="external-step3">
            <ul class="step3form">
                <li>
                    {% if form.errors.sub_domain %}
                        <div class="error-handler"><div class="formserror2">{{ form.errors.sub_domain.0 }}</div></div>
                    {% endif %}
                    <div class="left">{% trans "Site sub-domain" %}</div>
                    <div class="right">
                        <input type="text" name="sub_domain" placeholder="mysite" class="text" style="width:30%;" value="{{ form.sub_domain.value|default_if_none:"" }}"/>.{{ domain }}
                    </div>
                </li>
                <li>{% trans "OR" %}</li>
                <li>
                    {% if form.errors.domain %}
                        <div class="error-handler"><div class="formserror2">{{ form.errors.domain.0 }}</div></div>
                    {% endif %}
                    <div class="left">{% trans "Your own domain" %}</div>
                    <div class="right">
                        <input type="text" name="domain" placeholder="example.com" class="text" style="width:30%;" value="{{ form.domain.value|default_if_none:"" }}"/>
                    </div>
                </li>
                <li>
                    {% if form.errors.slogan %}
                     <div class="error-handler"><div class="formserror">{{ form.errors.slogan.0 }}</div></div>
                    {% endif %}
                    <div class="left">{% trans "Slogan" %}:</div>
                    <div class="right">
                        <input type="text" name="slogan" placeholder="" class="text" style="width:60%;" value="{{ form.slogan.value|default_if_none:"" }}">
                         ({% trans "maximum 50 characters" %})
                    </div>
                </li>
                <li>
                    {% if form.errors.logo %}
                        <div class="error-handler"><div class="formserror">{{ form.errors.logo.0 }}</div></div>
                    {% endif %}
                    <div class="left">{% trans "Organization logo" %}: ({% trans "Max Dimensions" %} 220Х120)</div>
                    <div class="right">
                        <div class="fileinputs">
                            <div class="file-wrapper">
                                <input type="file" name="logo">
                            </div>
                        </div>
                        <div class="viewimg">
                           {% if form.initial.logo %}
                            <div class="b-img">
                                <img src="{{ form.initial.logo.big }}">
                            </div>
                        {% endif %}
                        </div>
                    </div>
                </li>
                <li>
                    {% if form.errors.template %}
                        <div class="error-handler"><div class="formserror">{{ form.errors.template.0 }}</div></div>
                    {% endif %}
                    <div class="left"> <a href="#" class="showtype">{% trans "Select a category" %}</a>:</div>
                    <div class="right templateImage">
                        <input id="input-template" type="hidden" name="template" value="{{ form.template.value|default_if_none:"" }}">
                        {% if template  %}
                              <div class="ex-img"><img class="template1" src="{% static "templates" %}/{{ template.theme_folder }}/1.jpg" title="" alt="" width="198" height="51"></div>
                              <div class="ex-img"><img class="template2" src="{% static "templates" %}/{{ template.theme_folder }}/2.jpg" title="" alt="" width="198" height="51"></div>
                        {% else %}
                             <div class="ex-img"><img class="template1" src="{% static "tppcenter/img/ex-img.jpg" %}" title="" alt="" width="198" height="51"></div>
                             <div class="ex-img"><img class="template2" src="{% static "tppcenter/img/ex-img.jpg" %}" title="" alt="" width="198" height="51"></div>
                        {% endif %}
                    </div>
                </li>
                <li>
                    <div class="left">{% trans "Or use custom images" %}: ({% trans "Dimensions" %} 700Х183)</div>
                    <div class="right">
                        <ul>
                            {{ gallery_images_form.management_form }}
                            {{ gallery_images_form.non_form_errors }}
                            {% for gallery_form in gallery_images_form %}
                                {{ gallery_form.id }}
                                {% if gallery_form.initial.image %}
                                    <li>
                                        <div class="b-img" style="width: 198px;height: 58px;">
                                            <img style="width: 198px;height: 58px; " src='{{ gallery_form.initial.image.big }}'>
                                            {% trans 'Remove' %}{{ gallery_form.DELETE }}
                                        </div>

                                    </li>
                                {% endif %}
                                <li>
                                    {% if gallery_form.errors.image %}
                                        <div class="error-handler"><div class="formserror">{{ gallery_form.errors.image.0 }}</div></div>
                                    {% endif %}
                                    <div class="fileinputs">
                                        <input type="file" name="{{ gallery_form.image.html_name }}">
                                    </div>
                                </li>
                            {% endfor %}
                        </ul>
                    </div>
                </li>
                <li>
                    {% if form.errors.footer_text %}
                        <div class="error-handler"><div class="formserror">{{ form.errors.footer_text.0 }}</div></div>
                    {% endif %}
                    <div class="left">{% trans "Footer description" %}: ({% trans "maximum 200 characters" %})</div>
                    <div class="right">
                        <textarea cols="30" rows="10" style="width:80%;" name="footer_text">{{ form.footer_text.value|default_if_none:"" }}</textarea>
                    </div>
                </li>
            </ul>
            <div class="btn-nextstep">
                <input type="submit" class="bigbuy right" value="{% trans "Save" %}" >
            </div>
        </div>
    </form>
</div>
<div class="external-type">
    <i class="close-regform imgnews"></i>
    <div class="title">{% trans "Select a category" %}</div>
    <div class="listtype">
        {% for template in form.template.field.choices.queryset.all %}
             {% if forloop.counter|add:-1|divisibleby:"16" or forloop.counter0 == 0 %}
                  <ul>
             {% endif %}
                  <li><a class="selectTemplate" data-id="{{ template.pk }}" data-folder="{{ template.theme_folder }}" href="#">{{ template.name }}</a></li>
            {% if forloop.counter|divisibleby:"16" or forloop.last %}
                  </ul>
            {% endif %}
        {% endfor %}
    </div>
</div>
{% endblock %}